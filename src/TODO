## IN PROGRESS ##

- use 'rats','splint' for security audit

'********'
- sfv checker:
  verify zip integrity / OK
  extract .diz info
'********'
- v_format_message (wzd_misc.c): replace 220-first line ... 220 last line with
  220- ... 220 command ok (easier !)
'********'
- commit backend iff it was modified
'********'
- replace 'extern unsigned int wzd_server_uid' (wzd_init_lex.l) with
  functions get_serveruid() (to be implemented)
'********'
- create section "cygwin" in doc to document tls & co
  -- pem name _must_ be written in win-form when using winsock+tls
'********'
- getmyip does not seems to work with ipv6 ...
- ipv6: RFC 2428
'********'
- configure: --enable-internal-sfv || remove wzd_crc32.c file from sources (disable internal
  sfv)
'********'
- permissions: siteop always have all perms on files (wzd_perm.c) / OK
  and gadmins on their group files
'********'
- finish cache implementation
'********'
- To Be Documented :
  -- if root run server, must use server_uid + chown users, user.OLD to
     server_uid
'********'
- ratio: weekly allotment
  -- modify crontab to accept dates (each day/week/month at specified time) / OK
'********'
- give back slots to GAdmins if deleting user
  -- need to store info on who created user
'********'
- implement recursive chown/chmod
'********'
- implement group flags
'********'
- hide files should be configurable: hide = .* recycler recycled *ioftpd*
'********'


'********'
current objectives:

* ratios
* dupecheck
* quotas

'********'

- avoid sending multiples "250-" to be rfc-compliant (message file + answer)

- display correct permissions on ls

- rewrite fct do_mkdir
- SFV: trap EVENT_DELETE, and re-create .missing if file from sfv is deleted ?? (not sure it is a good idea ...)
- SFV: site rescan
- per dir global permissions (to pass over rootpath)
- use options in ls
- modify checkpath to return 0 if ok and file exists, 1 if !ok, -1 if file does not
  exist but path was converted
- bandwidth limit: add global limit / group limit
- perms: implement permissions on global commands like delete, mkdir, site ...
  these perms will complete per-user rights
  3 modes of perms: user/group/flag
- user/group: ALWAYS create a special user nobody and special group nogroup
- modify acls to accept groupnames (instead of users), or wildcards (*)


## PRIORITY ##

- Sub-vfs work, but need to put the physical path after the first node
  e.g:
   vfs = |/home/pollux/mp3|/cygdrive/e/sons/mp3|
   vfs = |/cygdrive/e/sons/mp3/pouet|/cygdrive/d/adobe|
- Load modules : .so + try to load win DLLs (using win API ...)
- more cookies
- anti-hammering: per ip/user, ban time
- special flag to start server and connect to existing shm without
  creating/blanking it (goal: replace exe instance by another on the fly)
- per-dir msg / default msg; SITE commands:
    * site DIRMSG new_msg
    * site APPENDMSG new_line
    * site CONVERTMSG filename
- add option to SITE SHUTDOWN, to kick (or not) users
- possibility to regroup txt files in 1
- hooks for events (on_file_upload, etc)
- external hooks for events (call external programs)
- ACL: ascendant recursion for permissions ? need to check if >= rootpath !
- bandwith limitations: global / group / user
    + possibility of relatives restrictions: 75g == 75 % of the group limit (for 1 user)
- implement permissions
- dir perms are useless now ?!
- finish implementation of ssl: explicit, port, data protection, buffer size
- give choice between hard/soft chroot
- option to enable/disable FXP to certain users


## NORMAL ##

- special files auto-deleted after download, possibility to reserve
  for one user only
- multiple binds / restricted binds: bind to only specified ip(s)
- change / add / remove vfs with site commands
- global config flag to close server except for users having this flag
- message system for users: site msg and/or inline messages
- add random in PASV port choose, to avoid always using the same
    will be REALLY usefull if we use fork()
_ possibility to link a backend statically (instead of dll)
- option : check certificate
- option : check CA for certificate
- option : check certificate only at login (not at port/pasv)
- reward mechanism for top ten winners (credits/slots/...)

## I'LL THINK ABOUT IT ##

- mount several dir in one (only for download)
- rolling range of ips, with change date:
   e.g during one week use ip 1, then 1 week ip 2, etc.
- statistics
- quota per user/group
- ratio: per user/group, credit (time to re-add ?)
- add size limit for directories
- XCRC command
- sfv checker / sfv creation
- dupe checker
- default backend hard-coded ?
- per-dir special permissions (glftpd like)
- cache permissions in memory (parent-process shm zone ?)
